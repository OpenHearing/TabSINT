{
  "description": "CHA - Threshold Response Time Exam",
  "properties": {
    "type": {
      "enum": ["chaTRT"]
    },
    "skip": {
      "type": "boolean",
      "description": "Allows user to skip the response area",
      "default": false
    },
    "autoSubmit": {
      "type": "boolean",
      "description": "Go straight to next page once this page is complete",
      "default": false
    },
    "autoBegin": {
      "type": "boolean",
      "description": "Go straight into exam, without having to press the 'Begin' button",
      "default": true
    },
    "examInstructions": {
      "type": "string",
      "description": "Replaces the top-level instruction text on the CHA exam pages (each page after starting page)"
    },
    "measureBackground": {
      "type": "string",
      "description": "Select a method from the list below to measure background noise after an audiometry exam",
      "enum": ["ThirdOctaveBands"]
    },
    "examProperties": {
      "type": "object",
      "required": ["Thresholds"],
      "properties": {
        "NPresentations": {
          "type": "number",
          "description": "Number of presentations",
          "default": 20,
          "minimum": 1,
          "maximum": 96
        },
        "LevelUnits": {
          "type": "string",
          "description": "Units for both specifying and returning sound levels.",
          "default": "dB HL",
          "enum": ["dB HL", "dB SPL"]
        },
        "Thresholds": {
          "type": "array",
          "description": "Array defining thresholds to validate. Each object in the array defines one threshold to validate and contains a ThresholdLevel, a Frequency and an Ear. ",
          "properties": {
            "ThresholdLevel": {
              "type": "number",
              "description": "Threshold sound level, in units specified by 'LevelUnits'.",
              "default": 55
            },
            "Frequency": {
              "type": "number",
              "description": "Threshold frequency (Hz).",
              "default": 6000
            },
            "Ear": {
              "type": "string",
              "description": "Threshold ear.",
              "default": "Left",
              "enum": ["Left", "Right"]
            }
          }
        },
        "ToneDuration": {
          "type": "number",
          "description": "Duration of each bursts of the target tone in the signal pulse train (ms).",
          "default": 300,
          "minimum": 100,
          "maximum": 500
        },
        "ToneRamp": {
          "type": "number",
          "description": "Duration of the tone ramp up and down (ms).",
          "default": 20,
          "minimum": 20,
          "maximum": 50
        },
        "TonePulseNumber": {
          "type": "number",
          "description": "Total number of tones played for each pulse train.",
          "default": 1,
          "minimum": 1,
          "maximum": 5
        },
        "ToneRepetitionInterval": {
          "type": "number",
          "description": "Time from the start of one pulse to the start of the next pulse (ms).",
          "default": 450,
          "minimum": 450,
          "maximum": 2000
        },
        "PollingOffset": {
          "type": "number",
          "description": "Period beyond last pulse where the subject response is still accepted (ms).",
          "default": 600,
          "miminum": 0,
          "maximum": 1000
        },
        "MinISI": {
          "type": "number",
          "description": "Minimum value for inter-stimulus interval (ISI) in ms.",
          "default": 600,
          "minimum": 0,
          "maximum": 2000
        },
        "MaxISI": {
          "type": "number",
          "description": "Maximum value for the inter-stimulus interval (ISI) in ms.",
          "default": 1000,
          "minimum": 1000,
          "maximum": 5000
        }
      }
    }
  }
}
