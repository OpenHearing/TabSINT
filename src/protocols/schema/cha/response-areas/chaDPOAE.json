{
  "description": "CHA - DPOAE.",
  "properties": {
    "type": {
      "enum": ["chaDPOAE"]
    },
    "skip": {
      "type": "boolean",
      "description": "Allows user to skip the response area.",
      "default": false
    },
    "autoSubmit": {
      "type": "boolean",
      "description": "Go straight to next page once this page is complete.",
      "default": false
    },
    "autoBegin": {
      "type": "boolean",
      "description": "Go straight into exam, without having to press the 'Begin' button.",
      "default": false
    },
    "examInstructions": {
      "type": "string",
      "description": "Replaces the top-level instruction text on the CHA exam pages (each page after starting page)"
    },
    "measureBackground": {
      "type": "string",
      "description": "Select a method from the list below to measure background noise after an audiometry exam",
      "enum": ["ThirdOctaveBands"]
    },
    "plotProperties": {
      "type": "object",
      "description": "DPOAE plot properties",
      "properties": {
        "displayDPOAE": {
          "type": "array",
          "items": {
            "enum": ["DPOAE"]
          }
        }
      }
    },
    "displayIds": {
      "description": "An array of strings, to be used in matching page ids, to select which results are plotted.  e.g. ['training'] or ['section1_left', 'section1_right']",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "exportToCSV": {
      "type": "boolean",
      "description": "Whether result should be exported to CSV upon submitting exam results.",
      "default": false
    },
    "examProperties": {
      "type": "object",
      "properties": {
        "BlockSize": {
          "type": "integer",
          "description": "The number of samples in a block used for the FFT.  Must be 1024 for use with the OAE Screener.",
          "default": 8192
        },
        "F1": {
          "type": "number",
          "description": "Frequency of F1 (Hz).",
          "default": 833.33
        },
        "F2": {
          "type": "number",
          "description": "Frequency of F2 (Hz).",
          "default": 1000
        },
        "L1": {
          "type": "number",
          "description": "Level of F1 (dB SPL).",
          "default": 65,
          "minimum": 0,
          "maximum": 85
        },
        "L2": {
          "type": "number",
          "description": "Level of F2 (dB SPL).",
          "default": 55,
          "minimum": 0,
          "maximum": 85
        },
        "MinTestAverages": {
          "type": "number",
          "description": "Minimum number of blocks that are averaged into the result before the test ends via the MinDpNoiseFloorThresh criterion.",
          "default": 60
        },
        "MaxTestAverages": {
          "type": "number",
          "description": "Maximum number of blocks to consider for averaging.",
          "default": 120,
          "minimum": 0,
          "maximum": 18750
        },
        "InputChannel": {
          "type": "integer",
          "description": "Input channel specifier. Defaults to 100, but 3 should be used for OAES devices.",
          "default": 100
        },
        "DisableSpectrum": {
          "type": "boolean",
          "description": "Disable FFT spectrum results. Defaults to true (FFT disabled).",
          "default": true
        },
        "MinDpNoiseFloorThresh": {
          "type": "number",
          "description": "When the low DP exceeds the noise floor in the surrounding +/- NoiseHalfBandwidth Hz bins by this amount, the test will conclude (provided the MinTestAverages have been met).",
          "default": 10,
          "minimum": 0,
          "maximum": 100
        },
        "NoiseHalfBandwidth": {
          "type": "number",
          "description": "Bandwidth over which to calculate the noise floor in Hz",
          "default": 30
        },
        "NoiseRejection": {
          "type": "boolean",
          "description": "If true, the noise rejection algorithm is applied to discard noisy data blocks. If false, all data is accepted.",
          "default": false
        },
        "TransientDiscard": {
          "type": "number",
          "description": "Initial period of data discarded at start of tone measured in ms.",
          "default": 21.3,
          "minimum": 0,
          "maximum": 1000
        }
      }
    }
  }
}