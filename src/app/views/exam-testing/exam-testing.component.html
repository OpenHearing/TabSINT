<style>
    .loader {
      border: 16px solid #f3f3f3;
      border-radius: 50%;
      border-top: 16px solid #3498db;
      width: 120px;
      height: 120px;
      -webkit-animation: spin 2s linear infinite; /* Safari */
      animation: spin 2s linear infinite;
      margin: 0 auto;
      display: block;
      margin-bottom: 1em;
    }
    
    /* Safari */
    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
</style>

<div *ngIf="examService?.currentPage?.loadingRequired && examService?.currentPage?.loadingActive">
    <h2>Media File(s) Loading...</h2>
    <div class="loader"></div>
    <button type="button" class="button btn btn-default" (click)="examService.currentPage.loadingRequired=false; examService.finishActivateMedia()" translate disabled="true">Start Exam</button>
</div>

<div *ngIf="examService?.currentPage?.loadingRequired && !examService?.currentPage?.loadingActive">
    <h2 style="margin-bottom:1em;">Loading Complete</h2>
    <button type="button" class="button btn btn-default" (click)="examService.currentPage.loadingRequired=false; examService.finishActivateMedia()" translate>Start Exam</button>
</div>

<div *ngIf="!examService?.currentPage?.loadingRequired">
    <!-- Title block -->
    <h2 [textContent]="examService?.currentPage?.questionMainText" *ngIf="examService?.currentPage?.questionMainText"
        ng-class="{medium: ((examService?.currentPage?.questionMainText?.length >= 38) && (examService?.currentPage?.questionMainText?.length < 48)), long: (examService?.currentPage?.questionMainText?.length > 42)}"></h2>
    <p class="subtext pad-top" *ngIf="examService?.currentPage?.questionSubText">
        <span [textContent]="examService.currentPage.questionSubText" id="subtext-testing"></span>
    </p>
    <p class="instructions" *ngIf="examService?.currentPage?.instructionText"><span [textContent]="examService?.currentPage?.instructionText" id="instructions-testing"></span></p>


    <!-- Images -->
    <!-- <div class="multimedia" *ngIf="examService.currentPage.image" [ngStyle]="{width:examService.currentPage.image.width}">
        <img [src]="{{examService.currentPage.image.path}}" class="img-responsive img-rounded" alt="" style="margin:0 auto;max-height:40vh;" />
    </div> -->


    <!-- Videos -->
    <!-- <div class="multimedia" *ngIf="examService.currentPage.video" [ngStyle]="{width:examService.currentPage.video.width}">
        <row *ngIf="examService.currentPage.video.autoplay">
        <video id="video1" [src]="{{examService.currentPage.video.path}}" class="video-responsive video-rounded"  preload="examService.currentPage.video.autoplay" controls />
        </row>
        <row *ngIf="!examService.currentPage.video.autoplay">
        <video id="video1" [src]="{{examService.currentPage.video.path}}" class="video-responsive video-rounded"  controls />
        </row>
    </div> -->

    <br />

    <!-- Response area content -->
    <!-- <div *ngIf="examService.currentPage.responseArea" ng-controller="ResponseAreaCtrl as ra">
        <div ng-repeat="(type, spec) in ra.responseAreas">
            <response-area *ngIf="type === examService.currentPage.responseArea.type" ng-include="spec.templateUrl"></response-area>
        </div>
    </div> -->

    

    <response-area></response-area>

    <!-- Below 2 lines are for testing the loading of repsonse areas that are not hard-coded into tabsint -->

    <!-- <div *ngIf="examService.currentPage.responseArea" [innerHTML]="testHTML"></div> -->
    <button (click)="testing()">test button</button>


</div>
